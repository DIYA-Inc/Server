<!DOCTYPE html>
<html>

<head>
    {% include("parts/meta.html") %}
    {% include("parts/nav.html")%}
    <title></title>
    <link href="/static/css/style.css" rel="stylesheet">
</head>

<body>
    <!-- There should be max lengths, check scripts/databaseStructure.sql -->
    <form method="post" action="/admin/books/edit/{{ bookID }}" enctype="multipart/form-data">
        <label for="title">Title</label><br>
        <input type="text" name="title" id="title"><br>

        <label for="author">Author</label>
        <input type="text" name="author" id="author"><br>

        <label for="isbn">ISBN</label><br>
        <input type="text" name="isbn" id="isbn"><br>

        <label for="publisher">Publisher</label><br>
        <input type="text" name="publisher" id="publisher"><br>

        <label for="publicationDate">Publication Date</label><br>
        <input type="date" name="publicationDate" id="publicationDate"><br>

        <label for="description">Description</label><br>
        <textarea name="description" id="description"></textarea><br>

        <label for="pageCount">Page Count</label><br>
        <input type="number" name="pageCount" id="pageCount"><br>

        <!-- Make this be ISO 3166 Alpha 3 country codes
        https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3
        maybe a drop down? -->
        
        <select id="language" name="language">
            <option value="eng">English</option>
            <option value="fra">French</option>
            <option value="spa">Spanish</option>
          </select><br>

        <label for="genre">Genre</label><br>
        <input type="text" name="genre" id="genre"><br>

        <label for="readingAge">Reading Age</label><br>
        <input type="number" name="readingAge" id="readingAge"><br>

        <!-- This should be a list of catalogues
        right now the server supports comma seperated values
        "catalogue1, catalogue2, catalogue3"-->
        <label for="catalogues">Catalogues</label><br>
        <input type="text" name="catalogues" id="catalogues"><br>

        <label for="file">File</label><br>
        <input type="file" name="file" id="file" accept=".epub"><br>

        <input type="submit" value="Edit book">
    </form>

    <h1> Current metadata </h1>
    
    <!-- make this be the default values in the form -->
    
    {{ book["title"] }}<br>
    {{ book["author"] }}<br>
    {{ book["isbn"] }}<br>
    {{ book["publisher"] }}<br>
    {{ book["publicationDate"] }}<br>
    {{ book["description"] }}<br>
    {{ book["pageCount"] }}<br>
    {{ book["language"] }}<br>
    {{ book["genre"] }}<br>
    {{ book["readingAge"] }}<br>
    {{ book["catalogues"] }}<br>

    <img src="{{ book['coverURL'] }}" alt="Cover Image">
    
    {% if book["fileURL"] %}
    <br><br><a href="/books/read/{{ book['bookID'] }}">Read Book</a>
    {% endif %}
</body>